<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png" />
    <link rel="apple-touch-icon" href="/icon-192.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#0a0a0c" />
    <link rel="manifest" href="/manifest.json" />

    <meta name="google-site-verification" content="19xcI1MYz04aeZ_uVhUOshrPNhyMoyS0-u15Mba2pL0" />

    <meta name="robots" content="index, follow, max-image-preview:large" />

    <!-- Google Font : Rajdhani (titre hero matrice) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;800&display=swap" rel="stylesheet" />

    <!-- Google Font : Rajdhani (titre hero matrice) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;800&display=swap" rel="stylesheet" />

    <!-- PRELOAD CRITIQUE : hero-bg.avif est le LCP element -->
    <!-- Sans preload, le navigateur découvre cette image trop tard (dans le JS) -->
    <link rel="preload" as="image" href="/hero-bg.avif" type="image/avif" fetchpriority="high" />

    <!-- Balises SEO page-spécifiques gérées par react-helmet-async dans chaque page -->

    <!-- CSP géré via vercel.json (HTTP headers) — plus complet et prioritaire -->

    <!-- CSP géré via vercel.json (HTTP headers) — plus complet et prioritaire -->

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "GhostMeta",
      "url": "https://www.ghostmeta.online",
      "image": "https://www.ghostmeta.online/og-image-v2.jpg",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Windows, macOS, Android, iOS",
      "description": "Outil gratuit pour supprimer les métadonnées EXIF et GPS des photos avant de les poster sur Vinted, Leboncoin ou eBay. Traitement 100% local via Canvas.",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "EUR",
        "availability": "https://schema.org/InStock"
      },
      "featureList": [
        "Suppression GPS",
        "Nettoyage EXIF/XMP/IPTC",
        "Anonymisation photo pixel par pixel",
        "Traitement local sécurisé"
      ],
      "author": {
        "@type": "Organization",
        "name": "GhostMeta Labs"
      }
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Mes photos sont-elles envoyées sur un serveur ?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Non. Tout le traitement se fait localement dans votre navigateur via l'API Canvas. Aucune donnée ne transite par un serveur."
          }
        },
        {
          "@type": "Question",
          "name": "Quels formats d'images sont supportés ?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "GhostMeta supporte JPEG, PNG, WebP et HEIC (iPhone)."
          }
        },
        {
          "@type": "Question",
          "name": "Quelles métadonnées sont supprimées ?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Toutes les métadonnées embarquées : GPS, EXIF, XMP, IPTC. L'image est reconstruite pixel par pixel pour garantir un fichier propre."
          }
        },
        {
          "@type": "Question",
          "name": "La qualité de l'image est-elle affectée ?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "L'image est recompressée à 92% de qualité (JPEG) pour un bon compromis poids/qualité. Les images de plus de 4096px sont redimensionnées."
          }
        },
        {
          "@type": "Question",
          "name": "Les plateformes comme Vinted ne nettoient-elles pas déjà les métadonnées ?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Pas toujours, et souvent après avoir stocké l'original sur leurs serveurs. GhostMeta vous protège avant même l'upload."
          }
        }
      ]
    }
    </script>

    <!-- NOTE: Microsoft Clarity a été retiré pour conformité RGPD -->
    <!-- Un CMP (Consent Management Platform) doit être implémenté avant tout tracker tiers -->

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "HowTo",
      "name": "Comment supprimer les métadonnées GPS de vos photos Vinted",
      "description": "Guide en 3 étapes pour anonymiser vos photos avant de les publier sur Vinted, Leboncoin ou eBay.",
      "step": [
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Déposez vos photos",
          "text": "Glissez-déposez ou sélectionnez vos images. JPEG, PNG, WebP et HEIC supportés."
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "Scan des menaces",
          "text": "GhostMeta analyse chaque image et identifie les métadonnées sensibles (GPS, date, appareil)."
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Neutralisation et téléchargement",
          "text": "Un clic pour supprimer toutes les métadonnées. Téléchargez vos images propres."
        }
      ],
      "tool": {
        "@type": "HowToTool",
        "name": "GhostMeta (navigateur web)"
      },
      "totalTime": "PT30S"
    }
    </script>
  </head>
  <body class="bg-[#0a0a0c]">

    <div id="root">
      <style>
        .initial-loader {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: #0a0a0c;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          z-index: 9999;
          font-family: ui-sans-serif, system-ui, sans-serif;
          transition: opacity 0.4s ease-out, visibility 0.4s;
        }
        .initial-loader.loader-hidden {
          opacity: 0;
          visibility: hidden;
        }
        .loader-icon {
          width: clamp(80px, 22vw, 140px);
          height: clamp(80px, 22vw, 140px);
          border-radius: 24px;
          margin-bottom: 2rem;
          animation: pulse 2s infinite;
        }
        .loader-text {
          color: #22c55e;
          font-size: clamp(1rem, 4vw, 1.5rem);
          font-weight: 700;
          letter-spacing: 0.2em;
          margin-bottom: 1.5rem;
          text-transform: uppercase;
          text-shadow: 0 0 15px rgba(34, 197, 94, 0.4);
        }
        .loader-bar-container {
          width: clamp(140px, 40vw, 220px);
          height: 3px;
          background: #1f2937;
          border-radius: 2px;
          overflow: hidden;
          position: relative;
        }
        .loader-bar {
          position: absolute;
          top: 0;
          left: 0;
          height: 100%;
          width: 50%;
          background: #22c55e;
          box-shadow: 0 0 10px #22c55e;
          animation: slide 1.5s infinite ease-in-out;
        }
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.6; }
        }
        @keyframes slide {
          0% { transform: translateX(-150%); }
          100% { transform: translateX(250%); }
        }
      </style>

      <!-- ID = "global-loader" pour que HideLoader dans App.tsx puisse le cibler -->
      <div class="initial-loader" id="global-loader">
        <img
          src="/icon-512.png"
          alt=""
          style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:center;"
        />
        <div style="position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;">
          <div class="loader-text">INITIALISATION DU SYSTÈME...</div>
          <div class="loader-bar-container">
            <div class="loader-bar"></div>
          </div>
        </div>
      </div>

    </div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
